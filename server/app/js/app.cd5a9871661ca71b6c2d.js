webpackJsonp([1],{"1pDh":function(t,e){},"5pa0":function(t,e){},Gl43:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=r("VU/8")({name:"App"},a,!1,function(t){r("1pDh")},null,null).exports,o=r("NYxO"),i=r("Dd8w"),u=r.n(i),c=r("Xxa5"),l=r.n(c),d=r("exGp"),p=r.n(d),f=r("mtWM"),v=r.n(f),m=function(){return v.a.create({baseURL:"/api"})},h={fetchOrders:function(t){var e=this;return p()(l.a.mark(function r(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("orders");case 2:n=e.sent,t.commit("initOrders",n.data);case 4:case"end":return e.stop()}},r,e)}))()},printNew:function(t){var e=this;return p()(l.a.mark(function r(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().post("orders/print-new");case 2:(n=e.sent).data.success?(console.log("Opening "+n.data.filename),window.location.href="reports/"+n.data.filename,t.commit("updateStatus",{oldStatus:"new",newStatus:"printing"}),t.commit("addNewReport",n.data.report)):console.log(n.data.message);case 4:case"end":return e.stop()}},r,e)}))()},shipPrinted:function(t){var e=this;return p()(l.a.mark(function r(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().post("orders/ship-printed");case 2:(n=e.sent).data.success?(console.log("Opening"+n.data.filename),window.location.href="reports/"+n.data.filename,t.commit("updateStatus",{oldStatus:"printing",newStatus:"shipped"}),t.commit("addNewReport",n.data.report)):console.log(n.data.message);case 4:case"end":return e.stop()}},r,e)}))()},invoiceShipped:function(t){var e=this;return p()(l.a.mark(function r(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().post("orders/invoice-shipped");case 2:(n=e.sent).data.success?(console.log("Opening"+n.data.filename),window.location.href="reports/"+n.data.filename,t.commit("updateStatus",{oldStatus:"shipped",newStatus:"invoiced"}),t.commit("addNewReport",n.data.report)):console.log(n.data.message);case 4:case"end":return e.stop()}},r,e)}))()}},g={fetchInventory:function(t){var e=this;return p()(l.a.mark(function r(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("inventory");case 2:n=e.sent,t.commit("initInventory",n.data);case 4:case"end":return e.stop()}},r,e)}))()},createNewItem:function(t,e){var r=this;return p()(l.a.mark(function n(){var a;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m().post("inventory/new-item",e);case 2:(a=r.sent).data.success?t.commit("addInvItem",a.data):console.log(a.data.message);case 4:case"end":return r.stop()}},n,r)}))()},deleteItem:function(t,e){var r=this;return p()(l.a.mark(function n(){var a;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m().post("inventory/delete-item",{id:e});case 2:(a=r.sent).data.success?t.commit("removeInvItem",a.data):console.log(a.data.message);case 4:case"end":return r.stop()}},n,r)}))()}},w={fetchPresales:function(t){var e=this;return p()(l.a.mark(function r(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("presales");case 2:(n=e.sent).data.success?t.commit("initPresales",n.data.data):console.log(n.data.message);case 4:case"end":return e.stop()}},r,e)}))()},generateCodes:function(t,e){var r=this;return p()(l.a.mark(function n(){var a;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m().post("generate",e);case 2:a=r.sent,console.log(a.data),a.data.success?(window.location.href="reports/"+a.data.filename,t.commit("addPresaleCodes",a.data.data)):console.log(a.data.message);case 5:case"end":return r.stop()}},n,r)}))()}},_={fetchReports:function(t){var e=this;return p()(l.a.mark(function r(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("reports");case 2:n=e.sent,t.commit("initReports",n.data.data);case 4:case"end":return e.stop()}},r,e)}))()},downloadReport:function(t){var e=this;return p()(l.a.mark(function r(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().post("report/download",{id:t});case 2:(n=e.sent).data.success?(console.log("Opening "+n.data.filename),window.location.href="reports/"+n.data.filename):console.log(n.data.message);case 4:case"end":return e.stop()}},r,e)}))()}},x=u()({},h,g,w,_);function y(t){var e=void 0,r=(e="number"==typeof t?new Date(t).toISOString():t.toString()).split("T")[0].split("-"),n=e.split("T")[1].split(":");return{year:parseInt(r[0]),month:parseInt(r[1]),day:parseInt(r[2]),hour:parseInt(n[0]),minute:parseInt(n[1]),second:parseInt(n[2].slice(0,2))}}var S=function(t,e){var r=y(t.date),n=y(e.date),a=n.year-r.year;if(0!==a)return a;var s=n.month-r.month;if(0!==s)return s;var o=n.day-r.day;if(0!==o)return o;var i=n.hour-r.hour;if(0!==i)return i;var u=n.minute-r.minute;if(0!==u)return u;var c=n.second-r.second;return 0!==c?c:0},O={initOrders:function(t,e){t.orders=e.sort(S)},updateStatus:function(t,e){for(var r in t.orders)t.orders[r].status===e.oldStatus&&n.a.set(t.orders[r],"status",e.newStatus)},initInventory:function(t,e){t.inventory=e.items.sort(S),t.currentInventory=e.current,console.log("Current Inventory Item..."),console.dir(t.currentInventory)},addInvItem:function(t,e){t.inventory.push(e.item),t.inventory.sort(S),t.currentInventory=e.current},removeInvItem:function(t,e){var r=t.inventory;t.inventory.some(function(t,n){return r[n]._id===e.id&&r.splice(n,1)}),t.currentInventory=e.current},initPresales:function(t,e){t.presales=e.sort(S)},addPresaleCodes:function(t,e){console.log("Adding presale code..."),console.log(e),t.presales=t.presales.concat(e),t.presales.sort(S)},initReports:function(t,e){t.reports=e.sort(S)},addNewReport:function(t,e){t.reports.push(e),t.reports.sort(S)}},C={"y-xs":"Youth XS","y-s":"Youth S","y-m":"Youth M","y-l":"Youth L","y-xl":"Youth XL","a-s":"Adult S","a-m":"Adult M","a-l":"Adult L","a-xl":"Adult XL","a-2xl":"Adult 2XL","a-3xl":"Adult 3XL","a-4xl":"Adult 4XL","a-5xl":"Adult 5XL"},I={filteredOrders:function(t){return t.orders.filter(function(e){return(t.orderFilters.status.includes(e.status)>0||0===t.orderFilters.status.length)&&(t.orderFilters.size.includes(C[e.size])>0||0===t.orderFilters.size.length)&&(e.name.toUpperCase().indexOf(t.orderFilters.name.toUpperCase())>=0||""===t.orderFilters.name)&&(e.namedrop.indexOf(t.orderFilters.namedrop.toUpperCase())>=0||""===t.orderFilters.namedrop)&&(e.code.indexOf(t.orderFilters.code.toUpperCase())>=0||""===t.orderFilters.code)})},orderFilters:function(t){return t.orderFilters},inventory:function(t){return t.inventory},currentInventory:function(t){return t.currentInventory},orderState:function(t,e){return console.log(e),t.orders.find(function(t){return t.code===e})},presaleCodes:function(t){return t.presales},reports:function(t){return t.reports}};n.a.use(o.a);var A=new o.a.Store({state:{orders:[],orderFilters:{status:[],namedrop:"",size:[],name:"",code:""},inventory:[],currentInventory:{},presales:[],reports:[]},getters:I,mutations:O,actions:x}),b=r("/ocq"),L={name:"OrderTable",data:function(){return{orders:[],loadingStatus:"",showLoadingStatus:!1,sizeMap:{"y-xs":"Youth XS","y-s":"Youth S","y-m":"Youth M","y-l":"Youth L","y-xl":"Youth XL","a-s":"Adult S","a-m":"Adult M","a-l":"Adult L","a-xl":"Adult XL","a-2xl":"Adult 2XL","a-3xl":"Adult 3XL","a-4xl":"Adult 4XL","a-5xl":"Adult 5XL"}}},mounted:function(){this.loadOrders()},methods:{loadOrders:function(){var t=this;return p()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingStatus="loading...",t.showLoadingStatus=!0,e.next=4,t.$store.dispatch("fetchOrders");case 4:t.loadingStatus="complete",t.showLoadingStatus=!1;case 6:case"end":return e.stop()}},e,t)}))()},toggleSelected:function(t){this.$store.commit("toggleSelected",t)}},computed:{filteredOrders:function(){return this.$store.getters.filteredOrders}}},X={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"data-container",attrs:{id:"order-container"}},[r("table",{staticClass:"data-table",attrs:{id:"order-table"}},[t._m(0),t._v(" "),r("tbody",[r("tr",[t.showStatus?r("td",{attrs:{colspan:"5",id:"status-bar"}},[t._v(t._s(t.loadingStatus))]):t._e()]),t._v(" "),t._l(t.filteredOrders,function(e){return r("tr",{staticClass:"order",class:[e.status,{selected:e.selected}],attrs:{id:e.code},on:{click:function(r){t.toggleSelected(e.code)}}},[r("td",[t._v(t._s(e.status))]),t._v(" "),r("td",[t._v(t._s(e.namedrop))]),t._v(" "),r("td",[t._v(t._s(t.sizeMap[e.size]))]),t._v(" "),r("td",[t._v(t._s(e.name))]),t._v(" "),r("td",{staticClass:"right-col"},[t._v(t._s(e.code))])])})],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"data-heading"},[r("tr",[r("th",{attrs:{colspan:"5"}},[r("h1",[t._v("Orders")])])]),t._v(" "),r("tr",[r("th",[t._v("Status")]),t._v(" "),r("th",[t._v("Namedrop")]),t._v(" "),r("th",[t._v("Size")]),t._v(" "),r("th",[t._v("Customer Name")]),t._v(" "),r("th",{staticClass:"right-col"},[t._v("Code / ID")])])])}]};var N={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"options-panel"},[r("ul",[r("li",{staticClass:"options-filter",attrs:{id:"status-filter"}},[r("label",{attrs:{for:"status-select"}},[t._v("Status")]),r("br"),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],attrs:{id:"status-select",multiple:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.filter,"status",e.target.multiple?r:r[0])}}},t._l(t.statuses,function(e){return r("option",[t._v(t._s(e))])}))]),t._v(" "),r("li",{staticClass:"options-filter",attrs:{id:"namedrop-filter"}},[r("label",[t._v("Namedrop")]),r("br"),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.namedrop,expression:"filter.namedrop"}],domProps:{value:t.filter.namedrop},on:{input:function(e){e.target.composing||t.$set(t.filter,"namedrop",e.target.value)}}})]),t._v(" "),r("li",{staticClass:"options-filter",attrs:{id:"size-filter"}},[r("label",{attrs:{for:"size-select"}},[t._v("Size")]),r("br"),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.size,expression:"filter.size"}],attrs:{id:"size-select",multiple:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.filter,"size",e.target.multiple?r:r[0])}}},t._l(t.sizeMap,function(e){return r("option",[t._v(t._s(e))])}))]),t._v(" "),r("li",{staticClass:"options-filter",attrs:{id:"name-filter"}},[r("label",[t._v("Customer Name")]),r("br"),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.name,expression:"filter.name"}],domProps:{value:t.filter.name},on:{input:function(e){e.target.composing||t.$set(t.filter,"name",e.target.value)}}})]),t._v(" "),r("li",{staticClass:"options-filter",attrs:{id:"id-filter"}},[r("label",[t._v("Code / ID")]),r("br"),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.code,expression:"filter.code"}],domProps:{value:t.filter.code},on:{input:function(e){e.target.composing||t.$set(t.filter,"code",e.target.value)}}})])])])},staticRenderFns:[]};var k={name:"Portal",components:{OrderTable:r("VU/8")(L,X,!1,function(t){r("5pa0")},"data-v-94282d0a",null).exports,OrderOptionsPanel:r("VU/8")({name:"OrderOptionsPanel",data:function(){return{orders:[],status:"",showStatus:!1,statuses:["new","printing","shipped","invoiced","cancelled"],sizeMap:{"y-xs":"Youth XS","y-s":"Youth S","y-m":"Youth M","y-l":"Youth L","y-xl":"Youth XL","a-s":"Adult S","a-m":"Adult M","a-l":"Adult L","a-xl":"Adult XL","a-2xl":"Adult 2XL","a-3xl":"Adult 3XL","a-4xl":"Adult 4XL","a-5xl":"Adult 5XL"}}},methods:{},computed:{filter:function(){return this.$store.getters.orderFilters}}},N,!1,function(t){r("Nn+8")},null,null).exports},data:function(){return{currentTab:"Order"}},methods:{setCurrentTab:function(t){this.currentTab=t}},computed:{currentTable:function(){return"OrderTable"},currentOptionsPanel:function(){return"OrderOptionsPanel"}}},z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"portal"}},[e("div",{attrs:{id:"nav"}},[e("a",{attrs:{id:"logout-link",href:"/logout"}},[e("svg",{attrs:{height:"30px",viewBox:"0 0 512 512"}},[e("path",{attrs:{fill:"white",stroke:"white",d:"M330.667,384h-21.333c-5.891,0-10.667,4.776-10.667,10.667v74.667h-256V42.667h256v74.667\n              c0,5.891,4.776,10.667,10.667,10.667h21.333c5.891,0,10.667-4.776,10.667-10.667V42.667C341.333,19.103,322.231,0,298.667,0h-256\n              C19.103,0,0,19.103,0,42.667v426.667C0,492.898,19.103,512,42.667,512h256c23.564,0,42.667-19.102,42.667-42.667v-74.667\n              C341.333,388.776,336.558,384,330.667,384z"}}),this._v(" "),e("path",{attrs:{fill:"white",stroke:"white",d:"M508.542,248.135l-128-117.333c-3.125-2.844-7.656-3.625-11.5-1.896c-3.875,1.698-6.375,5.531-6.375,9.76V160\n              c0,3.021,1.281,5.906,3.531,7.927l74.151,66.74H138.667c-5.896,0-10.667,4.771-10.667,10.667v21.333\n              c0,5.896,4.771,10.667,10.667,10.667h301.682l-74.151,66.74c-2.25,2.021-3.531,4.906-3.531,7.927v21.333\n              c0,4.229,2.5,8.063,6.375,9.76c1.375,0.615,2.844,0.906,4.292,0.906c2.615,0,5.198-0.969,7.208-2.802l128-117.333\n              C510.75,261.844,512,258.99,512,256S510.75,250.156,508.542,248.135z"}})])])]),this._v(" "),e("div",{attrs:{id:"table"}},[e("keep-alive",[e(this.currentTable,{tag:"component"})],1)],1),this._v(" "),e("div",{attrs:{id:"options-panel"}},[e("keep-alive",[e(this.currentOptionsPanel,{tag:"component"})],1)],1)])},staticRenderFns:[]};var F=r("VU/8")(k,z,!1,function(t){r("Gl43")},null,null).exports;n.a.use(b.a);var P=new b.a({routes:[{path:"/",name:"Portal",component:F},{path:"/logout",name:"Log Out",component:F}]});n.a.config.productionTip=!1,n.a.prototype.$bus=new n.a,new n.a({el:"#app",store:A,router:P,components:{App:s},template:"<App/>"})},"Nn+8":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cd5a9871661ca71b6c2d.js.map